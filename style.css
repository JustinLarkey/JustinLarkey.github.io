/* --- Global Styles & Dark Mode --- */
:root {
    --nav-button-width: 44px;
    --bg-color: #121212; /* Dark background */
    --text-color: #f0f0f0; /* Light text */
    --primary-accent: #00bfff; /* A bright blue for highlights */
    --secondary-accent-1: #90e0ef; /* For project title variation */
    --secondary-accent-2: #f7b267; /* For project title variation */
    --nav-bg: rgba(30, 30, 30, 0.85); /* Semi-transparent nav */
}

html {
    scroll-behavior: smooth;
}

body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: 'Red Hat Display', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    font-weight: 400; 
    margin: 0;
    padding: 0;
    line-height: 1.7;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* --- Typography Hierarchy --- */
h1, h2 {
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 0.5rem;
}

h1 {
    font-size: 4.5rem;
    color: var(--primary-accent);
    margin: 0;
    font-weight: 900; 
}

h2 {
    font-size: 2.5rem;
    border-bottom: 2px solid var(--primary-accent);
    padding-bottom: 10px;
    display: inline-block;
    font-weight: 700;
}

p {
    font-size: 1.1rem;
    max-width: 65ch; 
    font-weight: 400; 
}

/* --- Main Content & Layout --- */
main {
    max-width: 900px;
    margin: 0 auto;
    padding: 4rem 4rem;
    overflow-x: hidden;
}

.content-section {
    padding-top: 5rem;
    padding-bottom: 5rem;
}

#home {
    padding-top: 0;
    padding-bottom: 0;
}

.page-header {
    text-align: left;
    padding: 4rem 0;
}

.page-header h2 {
    font-family: 'Red Hat Display', sans-serif;
    font-size: 1.5rem;
    font-weight: 500; 
    text-transform: none;
    letter-spacing: 0;
    color: #aaa;
    border: none;
}

/* --- Floating Navigation --- */
.floating-nav {
    position: fixed; 
    z-index: 1000;
    transition: all 0.3s ease;
}

/* Desktop Navigation */
@media (min-width: 1025px) {
    .floating-nav {
        top: 50%; 
        right: 0;
        transform: translateY(-50%); 
        border-radius: 8px 0 0 8px; 
        padding: 1rem 1.25rem;
        
        background-color: var(--nav-bg);
        backdrop-filter: blur(5px);
        
        opacity: 0;
        transform: translate(0, 20px) translateY(-50%);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        will-change: opacity, transform;
    }

    .floating-nav.is-visible {
        opacity: 1;
        transform: translate(0, 0) translateY(-50%);
    }

    .nav-toggle {
        display: none;
    }

    .nav-menu {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column; 
        gap: 1.5rem;
    }
}

/* Desktop layout: expand content width so the page feels balanced when
    the nav sticks to the right. Increase max-width and reduce excessive
    whitespace on wide screens. */
@media (min-width: 1025px) {
    main {
        margin: 0 auto;
        max-width: 1200px; 
        width: 100%;
        padding: 4rem 2rem; 
        box-sizing: border-box;
    }
}

/* Shift only the About section to the right on large screens so the
   description extends closer to the floating nav without overlapping it.
   This keeps other sections centered while giving About a right-aligned
   layout for emphasis. */
@media (min-width: 1280px) {
    #about {
        display: block;
    }

    #about .content-section {
        max-width: 820px; 
        margin-left: auto; 
        margin-right: 0;
        padding-right: 1rem; 
    }

    #about p {
        max-width: none;
        width: 100%;
    }
}

/* Mobile Navigation */
@media (max-width: 1024px) {
    .floating-nav {
        top: 50%;
        right: 0;
        transform: translateY(-50%);
        padding: 1rem;
        border-radius: 8px 0 0 8px;
    }

    .nav-toggle {
        display: block;
        position: fixed;
        right: env(safe-area-inset-right, 0);
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        padding: 0;
        cursor: pointer;
        width: var(--nav-button-width);
        height: var(--nav-button-width);
        display: flex;
        align-items: center;
        justify-content: center;
        
        background-color: var(--nav-bg);
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        /* *** REVERTED THIS CHANGE *** */
        border-radius: 8px 0 0 8px; /* Was 8px */
        z-index: 1001;
        box-shadow: 0 6px 18px rgba(0,0,0,0.25);
        -webkit-transform: none;
        transform: none;
    }

    .hamburger {
        display: block;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 24px;
        height: 2px;
        background: var(--text-color);
        transition: all 0.3s ease-in-out;
    }

    .hamburger::before,
    .hamburger::after {
        content: '';
        position: absolute;
        left: 0;
        width: 24px;
        height: 2px;
        background: var(--text-color);
        transition: all 0.3s ease-in-out;
    }

    .hamburger::before {
        top: -8px;
    }

    .hamburger::after {
        top: 8px;
    }

    .nav-toggle.active .hamburger {
        background: transparent;
    }

    .nav-toggle.active .hamburger::before {
        transform: rotate(45deg) translate(0, 0);
    }

    .nav-toggle.active .hamburger::after {
        transform: rotate(-45deg) translate(0, 0);
    }

    .nav-menu {
        visibility: hidden;
        opacity: 0;
        list-style: none;
        padding: 1rem;
        margin: 0;
        text-align: right;
        background-color: var(--nav-bg);
        position: fixed;
        top: 50%;
    right: calc(var(--nav-button-width) + 12px); 
        transform: translateY(-50%);
        /* *** THIS IS THE CHANGE *** */
        border-radius: 8px; /* Was 8px 0 0 8px */
        min-width: 150px;
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        transition: opacity 0.3s ease, visibility 0.3s ease;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        pointer-events: none;
        z-index: 1000;
        box-shadow: 0 6px 18px rgba(0,0,0,0.15);
    }

    .nav-menu.active {
        visibility: visible;
        opacity: 1;
        pointer-events: all;
    }
}

.floating-nav a {
    text-decoration: none;
    color: var(--text-color);
    font-family: 'Red Hat Display', sans-serif;
    font-size: 1rem;
    font-weight: 700; 
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: color 0.3s ease;
    display: block;
    padding: 0.5rem;
}

.floating-nav a:hover {
    color: var(--primary-accent);
}

/* --- Featured Works Section --- */
.project-list {
    margin-top: 3rem;
}

.project-item {
    padding: 2rem 0;
    border-bottom: 1px solid #333; 
    transition: background-color 0.3s ease;
}

.project-item:first-child {
    border-top: 1px solid #333;
}

.project-item h3 {
    font-size: 3rem;
    font-weight: 700; 
    margin: 0;
    transition: color 0.3s ease;
}

.project-medium {
    font-size: 1rem; 
    color: #aaa; 
    font-style: italic; 
    font-weight: 400; 
    text-transform: none; 
    letter-spacing: normal; 
    margin-top: 0.25rem; 
    margin-bottom: 1rem; 
}

.project-item p:not(.project-medium) { 
    margin-top: 0; 
    font-size: 1.1rem; 
}


.project-item:hover h3 {
    color: var(--primary-accent);
}

/* --- Contact Link --- */
.contact-link {
    font-family: 'Red Hat Display', sans-serif;
    font-size: 1.75rem;
    font-weight: 700; 
    color: var(--primary-accent);
    text-decoration: none;
    border-bottom: 2px solid transparent;
    transition: border-color 0.3s ease;
}

.contact-link:hover {
    border-color: var(--primary-accent);
}

/* --- Special Rule for "Unlucky" --- */
#project-unlucky h3 {
    font-family: 'Lobster', cursive;
    font-weight: 400; 
    color: var(--secondary-accent-1); 
    font-size: 3.25rem; 
}

#project-unlucky h3 a {
    color: inherit; 
    text-decoration: none;
    transition: color 0.3s ease;
}

#project-unlucky h3 a:hover {
    color: var(--primary-accent); 
}

/* --- Special Rule for "TomSka" --- */
#project-tomska h3 {
    color: var(--secondary-accent-1); 
}

#project-tomska h3 a {
    color: inherit; 
    text-decoration: none;
    transition: color 0.3s ease;
}

#project-tomska h3 a:hover {
    color: var(--primary-accent); 
}


/* ----------------------------------
  *** SCROLL ANIMATION CODE ***
  ---------------------------------- */

.reveal-on-scroll:not(.project-item) {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    will-change: opacity, transform; 
}
.reveal-on-scroll:not(.project-item).is-visible {
    opacity: 1;
    transform: translateY(0);
}


.project-item > *,
.project-item h3,
.project-item h3 a,
#project-unlucky h3,
#project-unlucky h3 a,
#project-tomska h3,
#project-tomska h3 a {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    will-change: opacity, transform;
}

.project-item.is-visible > h3,
.project-item.is-visible > h3 a,
.project-item.is-visible#project-unlucky h3,
.project-item.is-visible#project-unlucky h3 a,
.project-item.is-visible#project-tomska h3,
.project-item.is-visible#project-tomska h3 a {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.0s; /* 1st: Title */
}

.project-item.is-visible > .project-medium,
#project-unlucky.is-visible > .project-medium,
#project-tomska.is-visible > .project-medium {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.15s; /* 2nd: Medium */
}

.project-item.is-visible > p:not(.project-medium),
#project-unlucky.is-visible > p:not(.project-medium),
#project-tomska.is-visible > p:not(.project-medium) {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.3s; /* 3rd: Description */
}


/* --- Footer & Social Icons --- */
.site-footer {
    text-align: center;
    padding: 3rem 2rem;
    border-top: 1px solid #333;
    margin-top: 0;
    padding-top: 5rem;
    padding-bottom: 5rem;
}

.social-links {
    margin-bottom: 1.5rem;
    display: flex;
    justify-content: center;
    gap: 1.5rem; 
}

.social-link {
    display: inline-flex; 
    align-items: center;
    justify-content: center;
    
    width: 44px;  
    height: 44px; 
    
    background-color: #ffffff; 
    color: var(--bg-color);    
    
    border-radius: 50%; 
    text-decoration: none;
    font-size: 1.2rem; 
    
    transition: transform 0.3s ease, background-color 0.3s ease;
}

.social-link:hover {
    transform: scale(1.1); 
    background-color: var(--primary-accent); 
}

.site-footer p {
    color: #888;
    font-size: 0.9rem;
    margin: 0;
}


/* ----------------------------------
  *** MOBILE RESPONSIVENESS ***
  ---------------------------------- */

@media (max-width: 1024px) {
    
    body {
        -webkit-text-size-adjust: 100%;
    }

    main {
        padding: 2rem 1.5rem;
    }
    
    .content-section {
        padding-top: 3rem;
        padding-bottom: 3rem;
    }
    
    .site-footer {
        padding-top: 3rem;
        padding-bottom: 3rem;
    }
    
    .page-header {
        padding: 2rem 0;
    }

    h1 {
        font-size: 2.75rem; 
    }

    h2 {
        font-size: 1.8rem; 
    }
    
    .page-header h2 {
        font-size: 1.2rem; 
    }
    
    .project-item h3 {
        font-size: 2.2rem; 
    }
    
    #project-unlucky h3 {
        font-size: 2.5rem;
    }
    
    p {
        font-size: 1rem; 
    }
    
    .project-medium {
        font-size: 0.9rem;
    }
}

/* --------------------------------------------------
   Hide `#contact` section
   -------------------------------------------------- */

#contact {
    display: none !important;
}

/* --------------------------------------------------
   Hide contact link(s) in navigation
   -------------------------------------------------- */
.floating-nav a[href="#contact"],
.nav-menu a[href="#contact"] {
    display: none !important;
}

.floating-nav li:has(> a[href="#contact"]),
.nav-menu li:has(> a[href="#contact"]) {
    display: none !important;
}


/* --- Modal Popup Styles (ADDED) --- */
.modal {
    display: none; 
    position: fixed; 
    z-index: 2000; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; 
    height: 100%; 
    overflow: hidden; 
    background-color: rgba(0,0,0,0.8); /* Black w/ opacity */
    backdrop-filter: blur(5px); /* Nice blur effect behind modal */
}

.modal-content {
    background-color: #121212;
    margin: 5vh auto; /* Center vertically */
    padding: 0;
    border: 1px solid #333;
    width: 90%; 
    max-width: 450px; /* Keep it phone-sized like the SubmitHub link */
    height: 80vh; /* Takes up 80% of screen height */
    border-radius: 12px;
    position: relative;
    box-shadow: 0 4px 30px rgba(0,0,0,0.5);
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.close-button {
    color: #fff;
    position: absolute;
    right: 15px;
    top: 10px;
    font-size: 30px;
    font-weight: bold;
    z-index: 2001;
    cursor: pointer;
    line-height: 1;
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    background: rgba(0,0,0,0.3);
    width: 40px;
    height: 40px;
    text-align: center;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.close-button:hover {
    color: var(--primary-accent);
    background: rgba(0,0,0,0.8);
}

.modal-content iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: block;
    border-radius: 12px;
}

/* Ensure the link looks like a link before clicking */
#walking-contradictions-link {
    text-decoration: none;
    color: inherit;
    transition: color 0.3s ease;
}

#walking-contradictions-link:hover {
    color: var(--primary-accent);
}

/* --- Walking Contradictions Logo Styling --- */
.logo-trigger a {
    display: inline-block;
    line-height: 0;
    overflow: hidden; /* Hides the original white image */
}

.logo-trigger img {
    height: 3.2rem; 
    width: auto;
    vertical-align: middle; 
    object-fit: contain;
    
    /* 1. DEFAULT STATE: Light Blue (Matches Unlucky/TomSka default) */
    filter: drop-shadow(0 100px 0 var(--secondary-accent-1));
    
    /* Move original image out of view, pull colored shadow into view */
    transform: translateY(-100px);
    
    /* Smooth transition for the color change */
    transition: filter 0.3s ease;
}

.logo-trigger a:hover img {
    /* 2. HOVER STATE: Bright Blue (Matches Unlucky/TomSka hover) */
    filter: drop-shadow(0 100px 0 var(--primary-accent));
    
    /* Keep the image in the same position (no zoom) */
    transform: translateY(-100px);
}

@media (max-width: 1024px) {
    .logo-trigger img {
        height: 2.2rem;
    }
}
